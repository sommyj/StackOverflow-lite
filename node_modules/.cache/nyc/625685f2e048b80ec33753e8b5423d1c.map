{"version":3,"sources":["fileFilter.js"],"names":["fileFilterMethod","req","fileSizeLimit","file","mimetype","res","status","json","message","size"],"mappings":";;;;;;AAAA;;;;;;AAEA;AACA,IAAMA,mBAAmB,SAAnBA,gBAAmB,CAACC,GAAD,EAAMC,aAAN,EAAwB;;AAE/C,MAAID,IAAIE,IAAR,EAAc;;AAEZ,QAAI,EAAEF,IAAIE,IAAJ,CAASC,QAAT,KAAsB,YAAtB,IAAsCH,IAAIE,IAAJ,CAASC,QAAT,KAAsB,WAA9D,CAAJ,EAAgF;AAC9E,aAAOC,IAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,SAAS,uCAAX,EAArB,CAAP;AACD,KAFD,MAGK,IAAIP,IAAIE,IAAJ,CAASM,IAAT,IAAiBP,aAArB,EAAoC;AACvC,aAAOG,IAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,SAAS,mCAAX,EAArB,CAAP;AACD;AACF;AAEF,CAZD;;kBAceR,gB","file":"fileFilter.js","sourceRoot":"/home/somto/1Projects/mentorship project/StackOverflow-lite/server/server/controllers/utilities","sourcesContent":["import fsHelper from '../../../utilities/fileSystem';\n\n/* File filter handle method */\nconst fileFilterMethod = (req, fileSizeLimit) => {\n\n  if (req.file) {\n\n    if (!(req.file.mimetype === 'image/jpeg' || req.file.mimetype === 'image/png')) {\n      return res.status(403).json({ message: 'Only .png and .jpg files are allowed!'});\n    }\n    else if (req.file.size >= fileSizeLimit) {\n      return res.status(403).json({ message: 'file should not be more than 2mb!'});\n    }\n  }\n\n};\n\nexport default fileFilterMethod;\n"]}