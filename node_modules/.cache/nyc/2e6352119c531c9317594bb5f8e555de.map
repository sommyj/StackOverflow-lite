{"version":3,"sources":["errorHandler.js"],"names":["deleteFile","fsHelper","errorHandler","incompleteFieldHandlerError","res","filePath","status","send","message","fileTypeHandleError","json","error","fileSizeHandleError","usernameHandlerError","emailHandlerError","phoneHandlerError","questionHandlerError"],"mappings":";;;;;;AAAA;;;;;;AAEA,IAAMA,aAAaC,qBAASD,UAA5B,C,CAAuC;;AAEvC,IAAME,eAAe;AACjBC,6BADiB,uCACWC,GADX,EACgBC,QADhB,EAC0B;AACzC,QAAIA,QAAJ,EAAcL,kBAAgBK,QAAhB,EAD2B,CACE;AAC3C,WAAOD,IAAIE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,SAAS,kBAAX,EAArB,CAAP;AACD,GAJgB;AAKjBC,qBALiB,+BAKGL,GALH,EAKQ;AAAE;AACzBA,QAAIE,MAAJ,CAAW,GAAX,EAAgBI,IAAhB,CAAqB,EAAEF,SAAS,uCAAX,EAAoDG,OAAO,IAA3D,EAArB;AACD,GAPgB;AAQjBC,qBARiB,+BAQGR,GARH,EAQQ;AAAE;AACzBA,QAAIE,MAAJ,CAAW,GAAX,EAAgBI,IAAhB,CAAqB,EAAEF,SAAS,mCAAX,EAAgDG,OAAO,IAAvD,EAArB;AACD,GAVgB;AAWjBE,sBAXiB,gCAWIT,GAXJ,EAWSC,QAXT,EAWmB;AAClC,QAAIA,QAAJ,EAAcL,kBAAgBK,QAAhB,EADoB,CACS;AAC3C,WAAOD,IAAIE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,SAAS,yBAAX,EAArB,CAAP;AACD,GAdgB;AAejBM,mBAfiB,6BAeCV,GAfD,EAeMC,QAfN,EAegB;AAC/B,QAAIA,QAAJ,EAAcL,kBAAgBK,QAAhB,EADiB,CACY;AAC3C,WAAOD,IAAIE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,SAAS,sBAAX,EAArB,CAAP;AACD,GAlBgB;AAmBjBO,mBAnBiB,6BAmBCX,GAnBD,EAmBMC,QAnBN,EAmBgB;AAC/B,QAAIA,QAAJ,EAAcL,kBAAgBK,QAAhB,EADiB,CACY;AAC3C,WAAOD,IAAIE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,SAAS,sBAAX,EAArB,CAAP;AACD,GAtBgB;AAuBjBQ,sBAvBiB,gCAuBIZ,GAvBJ,EAuBSC,QAvBT,EAuBkB;AACjC,QAAIA,QAAJ,EAAcL,kBAAgBK,QAAhB,EADmB,CACU;AAC3C,WAAOD,IAAIE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,SAAS,yBAAX,EAArB,CAAP;AACD;AA1BgB,CAArB;;kBA6BeN,Y","file":"errorHandler.js","sourceRoot":"/home/somto/1Projects/mentorship project/StackOverflow-lite/server/server/controllers/utilities","sourcesContent":["import fsHelper from '../../../utilities/fileSystem';\n\nconst deleteFile = fsHelper.deleteFile;//Delete file helper method\n\nconst errorHandler = {\n    incompleteFieldHandlerError(res, filePath) {\n      if (filePath) deleteFile(`./${filePath}`); // if file uploads delete it\n      return res.status(206).send({ message: 'Incomplete field' });\n    },\n    fileTypeHandleError(res) { // file type handleError\n      res.status(403).json({ message: 'Only .png and .jpg files are allowed!', error: true });\n    },\n    fileSizeHandleError(res) { // file size handleError\n      res.status(403).json({ message: 'file should not be more than 2mb!', error: true });\n    },\n    usernameHandlerError(res, filePath) {\n      if (filePath) deleteFile(`./${filePath}`); // if file uploads delete it\n      return res.status(400).send({ message: 'username already exists' });\n    },\n    emailHandlerError(res, filePath) {\n      if (filePath) deleteFile(`./${filePath}`); // if file uploads delete it\n      return res.status(400).send({ message: 'email already exists' });\n    },\n    phoneHandlerError(res, filePath) {\n      if (filePath) deleteFile(`./${filePath}`); // if file uploads delete it\n      return res.status(400).send({ message: 'phone already exists' });\n    },\n    questionHandlerError(res, filePath){\n      if (filePath) deleteFile(`./${filePath}`); // if file uploads delete it\n      return res.status(400).send({ message: 'question already exists' });\n    },\n}\n\nexport default errorHandler;\n"]}