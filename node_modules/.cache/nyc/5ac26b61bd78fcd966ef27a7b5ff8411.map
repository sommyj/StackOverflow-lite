{"version":3,"sources":["dbConnection.js"],"names":["env","process","NODE_ENV","Pool","pg","Client","connectionString","config","test","use_env_variable","production","development","pool","client","connections"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AAEA,IAAMA,MAAMC,QAAQD,GAAR,CAAYE,QAAxB;IACQC,I,GAAiBC,Y,CAAjBD,I;IAAME,M,GAAWD,Y,CAAXC,M;;;AAEd,IAAIC,yBAAJ;;AAEA,IAAGN,OAAO,MAAV,EAAkB;AAChBM,qBAAmBL,QAAQD,GAAR,CAAYO,iBAAOC,IAAP,CAAYC,gBAAxB,CAAnB;AACD,CAFD,MAEO,IAAGT,OAAO,YAAV,EAAwB;AAC7BM,qBAAmBL,QAAQD,GAAR,CAAYO,iBAAOG,UAAP,CAAkBD,gBAA9B,CAAnB;AACD,CAFM,MAEA;AACLH,qBAAmBL,QAAQD,GAAR,CAAYO,iBAAOI,WAAP,CAAmBF,gBAA/B,CAAnB;AACD;;AAED;;;AAGA,IAAMG,OAAO,IAAIT,IAAJ,CAAS,EAACG,kCAAD,EAAT,CAAb;;AAEA;;;;AAIA,IAAMO,SAAS,IAAIR,MAAJ,CAAW,EAACC,kCAAD,EAAX,CAAf;;AAEA,IAAMQ,cAAc,EAACF,UAAD,EAAOC,cAAP,EAApB;;kBAEeC,W","file":"dbConnection.js","sourceRoot":"/home/somto/1Projects/mentorship project/StackOverflow-lite/server/server/models/database","sourcesContent":["import pg from 'pg';\nimport config from '../../config/config.json';\n\nconst env = process.env.NODE_ENV;\nconst { Pool, Client } = pg;\n\nlet connectionString;\n\nif(env == 'test') {\n  connectionString = process.env[config.test.use_env_variable];\n} else if(env == 'production') {\n  connectionString = process.env[config.production.use_env_variable];\n} else {\n  connectionString = process.env[config.development.use_env_variable];\n}\n\n/*\n *Pool connection for postgresql\n */\nconst pool = new Pool({connectionString});\n\n/*\n *A client connection for postgresql\n *connect method haas to be called in file to be used\n */\nconst client = new Client({connectionString});\n\nconst connections = {pool, client}\n\nexport default connections;\n"]}