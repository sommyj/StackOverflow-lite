{"version":3,"sources":["errorHandler.js"],"names":["deleteFile","fsHelper","errorHandler","fileTypeHandleError","res","status","json","message","error","fileSizeHandleError","usernameHandlerError","filePath","send","emailHandlerError","phoneHandlerError"],"mappings":";;;;;;AAAA;;;;;;AAEA,IAAMA,aAAaC,qBAASD,UAA5B,C,CAAuC;;AAEvC,IAAME,eAAe;AACjB;AACAC,qBAFiB,+BAEGC,GAFH,EAEQ;AACvBA,QAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,SAAS,uCAAX,EAAoDC,OAAO,IAA3D,EAArB;AACD,GAJgB;;;AAMjB;AACAC,qBAPiB,+BAOGL,GAPH,EAOQ;AACvBA,QAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,SAAS,mCAAX,EAAgDC,OAAO,IAAvD,EAArB;AACD,GATgB;AAWjBE,sBAXiB,gCAWIN,GAXJ,EAWSO,QAXT,EAWmB;AAClC,QAAIA,QAAJ,EAAcX,kBAAgBW,QAAhB,EADoB,CACS;AAC3C,WAAOP,IAAIC,MAAJ,CAAW,GAAX,EAAgBO,IAAhB,CAAqB,EAAEL,SAAS,yBAAX,EAArB,CAAP;AACD,GAdgB;AAgBjBM,mBAhBiB,6BAgBCT,GAhBD,EAgBMO,QAhBN,EAgBgB;AAC/B,QAAIA,QAAJ,EAAcX,kBAAgBW,QAAhB,EADiB,CACY;AAC3C,WAAOP,IAAIC,MAAJ,CAAW,GAAX,EAAgBO,IAAhB,CAAqB,EAAEL,SAAS,sBAAX,EAArB,CAAP;AACD,GAnBgB;AAqBjBO,mBArBiB,6BAqBCV,GArBD,EAqBMO,QArBN,EAqBe;AAC9B,QAAIA,QAAJ,EAAcX,kBAAgBW,QAAhB,EADgB,CACa;AAC3C,WAAOP,IAAIC,MAAJ,CAAW,GAAX,EAAgBO,IAAhB,CAAqB,EAAEL,SAAS,sBAAX,EAArB,CAAP;AACD;AAxBgB,CAArB;;kBA2BeL,Y","file":"errorHandler.js","sourceRoot":"/home/somto/1Projects/mentorship project/StackOverflow-lite/server/server/controllers/utilities","sourcesContent":["import fsHelper from '../../../utilities/fileSystem';\n\nconst deleteFile = fsHelper.deleteFile;//Delete file helper method\n\nconst errorHandler = {\n    // file type handleError\n    fileTypeHandleError(res) {\n      res.status(403).json({ message: 'Only .png and .jpg files are allowed!', error: true });\n    },\n\n    // file size handleError\n    fileSizeHandleError(res) {\n      res.status(403).json({ message: 'file should not be more than 2mb!', error: true });\n    },\n\n    usernameHandlerError(res, filePath) {\n      if (filePath) deleteFile(`./${filePath}`); // if file uploads delete it\n      return res.status(400).send({ message: 'username already exists' });\n    },\n\n    emailHandlerError(res, filePath) {\n      if (filePath) deleteFile(`./${filePath}`); // if file uploads delete it\n      return res.status(400).send({ message: 'email already exists' });\n    },\n\n    phoneHandlerError(res, filePath){\n      if (filePath) deleteFile(`./${filePath}`); // if file uploads delete it\n      return res.status(400).send({ message: 'phone already exists' });\n    },\n}\n\nexport default errorHandler;\n"]}