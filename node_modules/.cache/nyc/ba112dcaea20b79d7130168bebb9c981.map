{"version":3,"sources":["errorHandler.js"],"names":["fsHelper","deleteFile","errorHandler","createHandlerError","error","res","filePath","status","send","incompleteFieldHandlerError","message","fileTypeHandleError","json","fileSizeHandleError","usernameHandlerError","emailHandlerError","phoneHandlerError","questionHandlerError","userNotPrestentHandlerError","noTokenHandlerError","auth","failedAuthHandlerError"],"mappings":";;;;;;AAAA;;;;;;WAEqB,CAACA,qBAASC,UAAV,C;IAAdA,U,YAAoC;;AAE3C,IAAMC,eAAe;AACnBC,oBADmB,8BACAC,KADA,EACOC,GADP,EACYC,QADZ,EACsB;AACvC,QAAIA,QAAJ,EAAcL,kBAAgBK,QAAhB,EADyB,CACI;AAC3C,WAAOD,IAAIE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBJ,KAArB,CAAP;AACD,GAJkB;AAKnBK,6BALmB,uCAKSJ,GALT,EAKcC,QALd,EAKwB;AACzC,QAAIA,QAAJ,EAAcL,kBAAgBK,QAAhB,EAD2B,CACE;AAC3C,WAAOD,IAAIE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEE,SAAS,kBAAX,EAArB,CAAP;AACD,GARkB;AASnBC,qBATmB,+BASCN,GATD,EASM;AAAE;AACzBA,QAAIE,MAAJ,CAAW,GAAX,EAAgBK,IAAhB,CAAqB,EAAEF,SAAS,uCAAX,EAAoDN,OAAO,IAA3D,EAArB;AACD,GAXkB;AAYnBS,qBAZmB,+BAYCR,GAZD,EAYM;AAAE;AACzBA,QAAIE,MAAJ,CAAW,GAAX,EAAgBK,IAAhB,CAAqB,EAAEF,SAAS,mCAAX,EAAgDN,OAAO,IAAvD,EAArB;AACD,GAdkB;AAenBU,sBAfmB,gCAeET,GAfF,EAeOC,QAfP,EAeiB;AAClC,QAAIA,QAAJ,EAAcL,kBAAgBK,QAAhB,EADoB,CACS;AAC3C,WAAOD,IAAIE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEE,SAAS,yBAAX,EAArB,CAAP;AACD,GAlBkB;AAmBnBK,mBAnBmB,6BAmBDV,GAnBC,EAmBIC,QAnBJ,EAmBc;AAC/B,QAAIA,QAAJ,EAAcL,kBAAgBK,QAAhB,EADiB,CACY;AAC3C,WAAOD,IAAIE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEE,SAAS,sBAAX,EAArB,CAAP;AACD,GAtBkB;AAuBnBM,mBAvBmB,6BAuBDX,GAvBC,EAuBIC,QAvBJ,EAuBc;AAC/B,QAAIA,QAAJ,EAAcL,kBAAgBK,QAAhB,EADiB,CACY;AAC3C,WAAOD,IAAIE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEE,SAAS,sBAAX,EAArB,CAAP;AACD,GA1BkB;AA2BnBO,sBA3BmB,gCA2BEZ,GA3BF,EA2BOC,QA3BP,EA2BiB;AAClC,QAAIA,QAAJ,EAAcL,kBAAgBK,QAAhB,EADoB,CACS;AAC3C,WAAOD,IAAIE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEE,SAAS,yBAAX,EAArB,CAAP;AACD,GA9BkB;AA+BnBQ,6BA/BmB,uCA+BSb,GA/BT,EA+BcC,QA/Bd,EA+BwB;AACzC,QAAIA,QAAJ,EAAcL,kBAAgBK,QAAhB,EAD2B,CACE;AAC3C,WAAOD,IAAIE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEE,SAAS,yCAAX,EAArB,CAAP;AACD,GAlCkB;AAmCnBS,qBAnCmB,+BAmCCd,GAnCD,EAmCM;AACvB,WAAOA,IAAIE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEY,MAAM,KAAR,EAAeV,SAAS,oBAAxB,EAArB,CAAP;AACD,GArCkB;AAsCnBW,wBAtCmB,kCAsCIhB,GAtCJ,EAsCS;AAC1B,WAAOA,IAAIE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEY,MAAM,KAAR,EAAeV,SAAS,+BAAxB,EAArB,CAAP;AACD;AAxCkB,CAArB;;kBA2CeR,Y","file":"errorHandler.js","sourceRoot":"/home/somto/1Projects/mentorship project/StackOverflow-lite/server/server/controllers/utilities","sourcesContent":["import fsHelper from '../../../utilities/fileSystem';\n\nconst [deleteFile] = [fsHelper.deleteFile];// Delete file helper method\n\nconst errorHandler = {\n  createHandlerError(error, res, filePath) {\n    if (filePath) deleteFile(`./${filePath}`); // if file uploads delete it\n    return res.status(400).send(error);\n  },\n  incompleteFieldHandlerError(res, filePath) {\n    if (filePath) deleteFile(`./${filePath}`); // if file uploads delete it\n    return res.status(206).send({ message: 'Incomplete field' });\n  },\n  fileTypeHandleError(res) { // file type handleError\n    res.status(403).json({ message: 'Only .png and .jpg files are allowed!', error: true });\n  },\n  fileSizeHandleError(res) { // file size handleError\n    res.status(403).json({ message: 'file should not be more than 2mb!', error: true });\n  },\n  usernameHandlerError(res, filePath) {\n    if (filePath) deleteFile(`./${filePath}`); // if file uploads delete it\n    return res.status(400).send({ message: 'username already exists' });\n  },\n  emailHandlerError(res, filePath) {\n    if (filePath) deleteFile(`./${filePath}`); // if file uploads delete it\n    return res.status(400).send({ message: 'email already exists' });\n  },\n  phoneHandlerError(res, filePath) {\n    if (filePath) deleteFile(`./${filePath}`); // if file uploads delete it\n    return res.status(400).send({ message: 'phone already exists' });\n  },\n  questionHandlerError(res, filePath) {\n    if (filePath) deleteFile(`./${filePath}`); // if file uploads delete it\n    return res.status(400).send({ message: 'question already exists' });\n  },\n  userNotPrestentHandlerError(res, filePath) {\n    if (filePath) deleteFile(`./${filePath}`); // if file uploads delete it\n    return res.status(401).send({ message: 'user has been removed from the database' });\n  },\n  noTokenHandlerError(res) {\n    return res.status(401).send({ auth: false, message: 'No token provided.' });\n  },\n  failedAuthHandlerError(res) {\n    return res.status(500).send({ auth: false, message: 'Failed to authenticate token.' });\n  }\n};\n\nexport default errorHandler;\n"]}