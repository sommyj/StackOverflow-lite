{"version":3,"sources":["user.js"],"names":["User","create","data","queryStatement","text","values","title","firstname","lastname","username","password","email","gender","country","phone","userImage","findAll","name","findOne","where","destroy","id","force"],"mappings":";;;;;;AAAA;;;;;;AAEA,IAAMA,OAAO;AACXC,QADW,kBACJC,IADI,EACE;AACT;AACA,QAAMC,iBAAe;AACnBC,8LADmB;AAGnBC,cAAQ,CAACH,KAAKI,KAAN,EAAaJ,KAAKK,SAAlB,EAA6BL,KAAKM,QAAlC,EAA4CN,KAAKO,QAAjD,EAA2DP,KAAKQ,QAAhE,EAA0ER,KAAKS,KAA/E,EAAsFT,KAAKU,MAA3F,EACRV,KAAKW,OADG,EACMX,KAAKY,KADX,EACkBZ,KAAKa,SADvB;;AAIV;AAPqB,KAArB,CAQA,OAAO,qBAAMZ,cAAN,CAAP;AAEH,GAbU;AAcXa,SAdW,qBAcD;AACR;AACA,QAAMb,iBAAiB;AACrBc,YAAM,aADe;AAErBb,YAAM;;AAGR;AALuB,KAAvB,CAMA,OAAO,qBAAMD,cAAN,CAAP;AAED,GAxBU;AAyBXe,SAzBW,mBAyBHhB,IAzBG,EAyBG;AACZ,QAAMC,iBAAiB;AACrB;AACAc,YAAM,YAFe;AAGrBb,YAAM,2DAHe;AAIrBC,cAAQ,CAACH,KAAKiB,KAAL,CAAWV,QAAZ,EAAsBP,KAAKiB,KAAL,CAAWT,QAAjC;;AAGV;AAPuB,KAAvB,CAQA,OAAO,qBAAMP,cAAN,CAAP;AAED,GApCU;AAqCXiB,SArCW,mBAqCHlB,IArCG,EAqCG;AACZ,QAAIC,uBAAJ;AACA,QAAG,CAACD,KAAKiB,KAAL,CAAWE,EAAZ,IAAkBnB,KAAKoB,KAA1B,EAAgC;AAC9BnB,uBAAiB;AACjBC;AADiB,OAAjB;AAGD,KAJD,MAKK;AACHD,uBAAiB;AACfC,+CADe;AAEfC,gBAAQ,CAACH,KAAKiB,KAAL,CAAWE,EAAZ;AAFO,OAAjB;AAID;;AAED;AACA,WAAO,qBAAMlB,cAAN,CAAP;AACD;AArDU,CAAb;;kBAwDeH,I","file":"user.js","sourceRoot":"/home/somto/1Projects/mentorship project/StackOverflow-lite/server/server/models","sourcesContent":["import query from './database/query.js'\n\nconst User = {\n  create(data) {\n      // SQL Query > Insert Data\n      const queryStatement={\n        text: `INSERT INTO users(title, firstname, lastname, username, password, email, gender,\n        country, phone, userImage) values($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING *`,\n        values: [data.title, data.firstname, data.lastname, data.username, data.password, data.email, data.gender,\n        data.country, data.phone, data.userImage],\n      }\n\n      //require our query executor into our model\n      return query(queryStatement);\n\n  },\n  findAll() {\n    // select all users\n    const queryStatement = {\n      name: 'fetch-users',\n      text: 'SELECT * FROM users'\n    }\n\n    //require our query executor into our model\n    return query(queryStatement);\n\n  },\n  findOne(data) {\n    const queryStatement = {\n      // give the query a unique username and password\n      name: 'fetch-user',\n      text: 'SELECT * FROM users WHERE username = $1 AND password = $2',\n      values: [data.where.username, data.where.password]\n    }\n\n    //require our query executor into our model\n    return query(queryStatement);\n\n  },\n  destroy(data) {\n    let queryStatement;\n    if(!data.where.id && data.force){\n      queryStatement = {\n      text: `DELETE FROM users`,\n      }\n    }\n    else {\n      queryStatement = {\n        text: `DELETE FROM users WHERE id=($1)`,\n        values: [data.where.id],\n      }\n    }\n\n    //require our query executor into our model\n    return query(queryStatement);\n  }\n}\n\nexport default User;\n"]}