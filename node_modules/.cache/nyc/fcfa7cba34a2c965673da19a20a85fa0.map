{"version":3,"sources":["question.js"],"names":["Question","create","data","queryStatement","text","values","title","question","userId","tags","questionImage","findAll","name","findById","id","destroy","where","force"],"mappings":";;;;;;AAAA;;;;;;AAEA,IAAMA,WAAW;AACfC,QADe,kBACRC,IADQ,EACF;AACX;AACA,QAAMC,iBAAiB;AACrBC,+HADqB;AAGrBC,cAAQ,CAACH,KAAKI,KAAN,EAAaJ,KAAKK,QAAlB,EAA4BL,KAAKM,MAAjC,EAAyCN,KAAKO,IAA9C,EAAoDP,KAAKQ,aAAzD;AAHa,KAAvB;;AAMA;AACA,WAAO,qBAAMP,cAAN,CAAP;AACD,GAXc;AAYfQ,SAZe,qBAYL;AACR;AACA,QAAMR,iBAAiB;AACrBS,YAAM,iBADe;AAErBR,YAAM;AAFe,KAAvB;;AAKA;AACA,WAAO,qBAAMD,cAAN,CAAP;AACD,GArBc;AAsBfU,UAtBe,oBAsBNC,EAtBM,EAsBF;AACX;AACA,QAAMX,iBAAiB;AACrBS,YAAM,gBADe;AAErBR,YAAM,uCAFe;AAGrBC,cAAQ,CAACS,EAAD;AAHa,KAAvB;;AAMA;AACA,WAAO,qBAAMX,cAAN,CAAP;AACD,GAhCc;AAiCfY,SAjCe,mBAiCPb,IAjCO,EAiCD;AACZ,QAAIC,uBAAJ;AACA,QAAI,CAACD,KAAKc,KAAL,CAAWF,EAAZ,IAAkBZ,KAAKe,KAA3B,EAAkC;AAChCd,uBAAiB;AACfC,cAAM;AADS,OAAjB;AAGD,KAJD,MAIO;AACLD,uBAAiB;AACfC,cAAM,qCADS;AAEfC,gBAAQ,CAACH,KAAKc,KAAL,CAAWF,EAAZ;AAFO,OAAjB;AAID;;AAED;AACA,WAAO,qBAAMX,cAAN,CAAP;AACD;AAhDc,CAAjB;;kBAmDeH,Q","file":"question.js","sourceRoot":"/home/somto/1Projects/mentorship project/StackOverflow-lite/server/server/models","sourcesContent":["import query from './database/query';\n\nconst Question = {\n  create(data) {\n    // SQL Query > Insert Data\n    const queryStatement = {\n      text: `INSERT INTO questions(title, question, userId, tags, questionImage)\n      values($1, $2, $3, $4, $5) RETURNING *`,\n      values: [data.title, data.question, data.userId, data.tags, data.questionImage],\n    };\n\n    // require our query executor into our model\n    return query(queryStatement);\n  },\n  findAll() {\n    // select all questions\n    const queryStatement = {\n      name: 'fetch-questions',\n      text: 'SELECT * FROM questions'\n    };\n\n    // require our query executor into our model\n    return query(queryStatement);\n  },\n  findById(id) {\n    // select a question\n    const queryStatement = {\n      name: 'fetch-question',\n      text: 'SELECT * FROM questions WHERE id = $1',\n      values: [id]\n    };\n\n    // require our query executor into our model\n    return query(queryStatement);\n  },\n  destroy(data) {\n    let queryStatement;\n    if (!data.where.id && data.force) {\n      queryStatement = {\n        text: 'DELETE FROM questions',\n      };\n    } else {\n      queryStatement = {\n        text: 'DELETE FROM questions WHERE id=($1)',\n        values: [data.where.id],\n      };\n    }\n\n    // require our query executor into our model\n    return query(queryStatement);\n  }\n};\n\nexport default Question;\n"]}