{"version":3,"sources":["errorHandler.js"],"names":["deleteFile","fsHelper","errorHandler","fileTypeHandleError","res","status","json","message","error","fileSizeHandleError","usernameHandlerError","filePath","send","emailHandlerError","phoneHandlerError","questionHandlerError"],"mappings":";;;;;;AAAA;;;;;;AAEA,IAAMA,aAAaC,qBAASD,UAA5B,C,CAAuC;;AAEvC,IAAME,eAAe;AACjBC,qBADiB,+BACGC,GADH,EACQ;AAAE;AACzBA,QAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,SAAS,uCAAX,EAAoDC,OAAO,IAA3D,EAArB;AACD,GAHgB;AAIjBC,qBAJiB,+BAIGL,GAJH,EAIQ;AAAE;AACzBA,QAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,SAAS,mCAAX,EAAgDC,OAAO,IAAvD,EAArB;AACD,GANgB;AAOjBE,sBAPiB,gCAOIN,GAPJ,EAOSO,QAPT,EAOmB;AAClC,QAAIA,QAAJ,EAAcX,kBAAgBW,QAAhB,EADoB,CACS;AAC3C,WAAOP,IAAIC,MAAJ,CAAW,GAAX,EAAgBO,IAAhB,CAAqB,EAAEL,SAAS,yBAAX,EAArB,CAAP;AACD,GAVgB;AAWjBM,mBAXiB,6BAWCT,GAXD,EAWMO,QAXN,EAWgB;AAC/B,QAAIA,QAAJ,EAAcX,kBAAgBW,QAAhB,EADiB,CACY;AAC3C,WAAOP,IAAIC,MAAJ,CAAW,GAAX,EAAgBO,IAAhB,CAAqB,EAAEL,SAAS,sBAAX,EAArB,CAAP;AACD,GAdgB;AAejBO,mBAfiB,6BAeCV,GAfD,EAeMO,QAfN,EAegB;AAC/B,QAAIA,QAAJ,EAAcX,kBAAgBW,QAAhB,EADiB,CACY;AAC3C,WAAOP,IAAIC,MAAJ,CAAW,GAAX,EAAgBO,IAAhB,CAAqB,EAAEL,SAAS,sBAAX,EAArB,CAAP;AACD,GAlBgB;AAmBjBQ,sBAnBiB,gCAmBIX,GAnBJ,EAmBSO,QAnBT,EAmBkB;AACjC,QAAIA,QAAJ,EAAcX,kBAAgBW,QAAhB,EADmB,CACU;AAC3C,WAAOP,IAAIC,MAAJ,CAAW,GAAX,EAAgBO,IAAhB,CAAqB,EAAEL,SAAS,yBAAX,EAArB,CAAP;AACD;AAtBgB,CAArB;;kBAyBeL,Y","file":"errorHandler.js","sourceRoot":"/home/somto/1Projects/mentorship project/StackOverflow-lite/server/server/controllers/utilities","sourcesContent":["import fsHelper from '../../../utilities/fileSystem';\n\nconst deleteFile = fsHelper.deleteFile;//Delete file helper method\n\nconst errorHandler = {\n    fileTypeHandleError(res) { // file type handleError\n      res.status(403).json({ message: 'Only .png and .jpg files are allowed!', error: true });\n    },\n    fileSizeHandleError(res) { // file size handleError\n      res.status(403).json({ message: 'file should not be more than 2mb!', error: true });\n    },\n    usernameHandlerError(res, filePath) {\n      if (filePath) deleteFile(`./${filePath}`); // if file uploads delete it\n      return res.status(400).send({ message: 'username already exists' });\n    },\n    emailHandlerError(res, filePath) {\n      if (filePath) deleteFile(`./${filePath}`); // if file uploads delete it\n      return res.status(400).send({ message: 'email already exists' });\n    },\n    phoneHandlerError(res, filePath) {\n      if (filePath) deleteFile(`./${filePath}`); // if file uploads delete it\n      return res.status(400).send({ message: 'phone already exists' });\n    },\n    questionHandlerError(res, filePath){\n      if (filePath) deleteFile(`./${filePath}`); // if file uploads delete it\n      return res.status(400).send({ message: 'question already exists' });\n    },\n}\n\nexport default errorHandler;\n"]}